!function(e){function t(t){for(var r,i,u=t[0],s=t[1],l=t[2],c=0,d=[];c<u.length;c++)i=u[c],a[i]&&d.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(f&&f(t);d.length;)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var s=n[u];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var u=window.webpackJsonp=window.webpackJsonp||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=s;o.push([64,1]),n()}({27:function(e,t,n){(e.exports=n(20)(!1)).push([e.i,"html {\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: 'Courier New', Courier, monospace;\n}\n\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n}\n\nmain {\n  padding: 0 1em;\n}\n",""])},64:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(9),i=n(1),u=n.n(i),s=n(2),l=n(24),f=n.n(l),c=n(27),d=n.n(c);function p(){var e=u()(["\n  text-align: center;\n\n  > h1 {\n    margin: 2em 0;\n  }\n"]);return p=function(){return e},e}function h(){return a.a.createElement(m,null,a.a.createElement("h1",null,"DOM find and replace"))}var m=s.b.header(p());function g(){var e=u()(["\n  margin: 4em 0;\n  text-align: center;\n"]);return g=function(){return e},e}function v(){return a.a.createElement(x,null,"Copyright Â© 2019 Youngjin Jang.")}var x=s.b.footer(g()),b=n(3),y=n.n(b),O=n(16),E=n.n(O),N=n(7),T=n.n(N),w=n(17),k=n.n(w),M=n(13),R=n.n(M),j=n(29),V=n.n(j),C=n(6),A=n.n(C),S=Node,_=S.ELEMENT_NODE,D=S.TEXT_NODE,q=(S.COMMENT_NODE,function(e){return Object.freeze(e.reduce(function(e,t){return Object.assign(e,R()({},t.toUpperCase(),!0))},{}))}),P=(q(["base","head","link","meta","style","title"]),q(["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section"])),z=q(["blockquote","dd","dir","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul"]),L=q(["a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","tt","u","var","wbr"]),B=q(["area","audio","img","map","track","video"]),F=q(["applet","embed","iframe","noembed","object","param","picture","source"]),H=(q(["canvas","noscript","script"]),q(["del","ins"]),q(["caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"])),J=q(["button","datalist","fieldset","form","input","label","legend","meter","optgroup","option","output","progress","select","textarea"]),U=(q(["details","dialog","menu","menuitem","summary"]),q(["acronym","applet","basefont","bgsound","big","blink","center","command","content","dir","element","font","frame","frameset","image","isindex","keygen","listing","marquee","menuitem","multicol","nextid","nobr","noembed","noframes","plaintext","shadow","spacer","strike","tt","xmp"]),q(["br","img","col","hr"])),G=k()({},P,z,B,F,H,J,U),I=(k()({},L,{br:void 0,code:void 0}),function(e){return A()(e)&&!1===V()(e)&&void 0!==e.nodeType}),W=function(e){return I(e)&&e.nodeType===_},X=function(e){return I(e)&&e.nodeType===D},Y=function(e){return W(e)&&!!G[e.tagName]},K=n(18),Q=n.n(K),Z=n(4),$=n.n(Z),ee=n(5),te=n.n(ee),ne=n(30),re=n.n(ne),ae=n(31),oe=n.n(ae),ie=n(32),ue=n.n(ie),se=function(){function e(){$()(this,e),this.head=null,this.tail=null}return te()(e,[{key:"add",value:function(e){return this.tail?(this.tail.next=e,e.previous=this.tail,this.tail=e):this.head=this.tail=e,e}},{key:"remove",value:function(e){var t=e.previous,n=e.next;return e===this.head&&e===this.tail?(this.head=this.tail=null,e):(t?n?(t.next=n,n.previous=t,e.previous=null,e.next=null):(t.next=null,e.previous=null,this.tail=t):(n.previous=null,e.next=null,this.head=n),e)}},{key:"replace",value:function(e,t){var n=t.previous,r=t.next;return n?(t.previous=null,e.previous=n,n.next=e):this.head=e,r?(t.next=null,e.next=r,r.previous=e):this.tail=e,e}}]),e}(),le=function(){function e(t){$()(this,e),Object.assign(this,{textNode:null,startOffset:-1,endOffset:-1,isModified:!1,isDirty:!1,next:null,previous:null,nextVersion:null,previousVersion:null},t)}return te()(e,[{key:"split",value:function(){var e=this.textNode.nodeValue;return this.startOffset===this.endOffset?[document.createTextNode(e.slice(0,this.startOffset)),document.createTextNode(e.slice(this.startOffset))]:[document.createTextNode(e.slice(0,this.startOffset)),document.createTextNode(e.slice(this.startOffset,this.endOffset)),document.createTextNode(e.slice(this.endOffset))]}},{key:"isExclusiveOffset",value:function(e){return e<=this.startOffset||e>=this.endOffset}},{key:"isEqual",value:function(e){return this.textNode===e.textNode&&this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}]),e}();var fe=function(e){return W(t=e)&&!!U[t.tagName]||W(e)&&-1!==["SVG"].indexOf(e.tagName.toUpperCase());var t},ce=function e(t,n,r,a){return n.reduce(function(n,o){if(fe(o))return 0===n.length?[]:(t.push(n),[]);if(a(o)){n.length>0&&t.push(n);var i=r.get(o);if(!i)return[];r.delete(o);var u=e(t,i,r,a);return u.length>0&&t.push(u),[]}return n.push(o),n},[])};var de=function(){function e(t){if($()(this,e),!t)throw new Error("Target element is required");this.el=t,this.textNodeRangeMap=new WeakMap}return te()(e,[{key:"addToTextNodeRangeMap",value:function(e){var t=e.textNode,n=this.textNodeRangeMap.get(t);return n||(n=new se,this.textNodeRangeMap.set(t,n)),n.add(e),e}},{key:"find",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"g";return e?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return W(e)&&(Y(e)||"A"===e.tagName)},n=[],r=[],a=new Map;for(n.push({node:e,block:e});n.length>0;){var o=n.pop(),i=o.node,u=o.block,s=i.firstChild,l=i.nextSibling,f=a.get(u);if(f||(f=[],a.set(u,f)),(X(i)||fe(i)||t(i)&&i!==u)&&f.push(i),s){if(n.push({node:s,block:t(i)?i:u}),i!==e&&l){var c=l.parentNode;r.push({node:l,block:t(c)?c:u})}}else if(l){var d=l.parentNode;n.push({node:l,block:t(d)?d:u})}else r.length>0&&n.push(r.pop())}var p=Array.from(a).reduce(function(e,n){var r=y()(n,2),o=r[0],i=r[1];if(!a.has(o))return e;var u=ce(e,i,a,t);return 0!==u.length&&e.push(u),e},[]);return a.clear(),p}(this.el).reduce(function(r,a){return[].concat(Q()(r),Q()(t.findMatches(e,n,a)))},[]):[]}},{key:"findMatches",value:function(e,t,n){var r=[],a=new RegExp(e,t),o=function(e){return e.reduce(function(e,t){return e.textBoundary.push(e.text.length),e.text="".concat(e.text).concat(t.nodeValue),e},{text:"",textBoundary:[]})}(n),i=o.text,u=o.textBoundary,s=a.exec(i);if(!s)return[];for(;s;){if(!s[0])return[];var l={keyword:e,regExpExecArray:s,textNodeRanges:[]};r.push(l);var f=s.index,c=f+s[0].length,d=ue()(u,f);d=u[d]===f?d:d-1<0?0:d-1;var p=oe()(u,c)-1;p=-1!==p?p:0;var h=n[d],m=f-u[d],g=n[p],v=c-u[p];s=a.exec(i);var x=void 0;if(h!==g){x=new le({textNode:h,startOffset:m,endOffset:h.nodeValue.length}),l.textNodeRanges.push(x),this.addToTextNodeRangeMap(x);for(var b=d+1;b<p;b++){var y=n[b],O=y.nodeValue;0!==O.length&&(x=new le({textNode:y,startOffset:0,endOffset:O.length}),l.textNodeRanges.push(x),this.addToTextNodeRangeMap(x))}x=new le({textNode:g,startOffset:0,endOffset:v}),l.textNodeRanges.push(x),this.addToTextNodeRangeMap(x)}else x=new le({textNode:h,startOffset:m,endOffset:v}),l.textNodeRanges.push(x),this.addToTextNodeRangeMap(x)}return r}},{key:"replace",value:function(e,t){var n=this;T()(t)?e.forEach(function(e){var r=e.textNodeRanges.length,a=t;e.textNodeRanges.forEach(function(t,o){n.modify(t,function(e){var t=e.offsetText,n=document.createTextNode("");return n.nodeValue=a.slice(0,t.length),a=a.slice(t.length),o+1===r&&0!==a.length&&(n.nodeValue+=a),n},e.regExpExecArray)})}):e.forEach(function(e){var r=e.textNodeRanges,a=e.regExpExecArray;return r.forEach(function(e){return n.modify(e,t,a)})})}},{key:"modify",value:function(e,t,n){for(;e.nextVersion;)e=e.nextVersion;if(e.isDirty||e.isModified)return e;for(var r=e.split(),a=y()(r,3),o=a[0],i=a[1],u=a[2],s=e;s.previous;)s=s.previous;for(;s;){var l=s.next;if(s!==e)if(e.isExclusiveOffset(s.startOffset)&&e.isExclusiveOffset(s.endOffset)&&!e.isEqual(s)){if(s.endOffset<=e.startOffset){var f=new le({textNode:o,startOffset:s.startOffset,endOffset:s.endOffset});f.previousVersion=s,s.nextVersion=f,this.addToTextNodeRangeMap(f)}else if(s.endOffset>=e.endOffset){var c=new le({textNode:u,startOffset:s.startOffset-e.endOffset,endOffset:s.endOffset-e.endOffset});c.previousVersion=s,s.nextVersion=c,this.addToTextNodeRangeMap(c)}s=l}else s.isDirty=!0,s=l;else s=l}var d,p=re()(t)?t({offsetText:i.nodeValue,offsetNode:i,regExpExecArray:n}):t,h=document.createDocumentFragment();if(h.appendChild(o),T()(p))for((d=document.createElement("span")).innerHTML=p;d.firstChild;)h.appendChild(d.firstChild);else(W(p)||X(p))&&(d=p,h.appendChild(p));return h.appendChild(u),e.isModified=!0,e.modifiedNode=d,e.textNode.parentNode.replaceChild(h,e.textNode),e}}]),e}();function pe(e,t){return W(e)?he(e,t):T()(e)?function(e,t){var n=document.createElement("div");return n.innerHTML=e,he(n,t),n.innerHTML}(e,t):null}function he(e,t){var n=t.flag,r=t.find,a=t.replace,o=new de(e);o.replace(o.find(r,n),a)}var me,ge=n(28),ve=new(n.n(ge).a),xe=(me=[ve.word,ve.sentence,ve.url,ve.birthday,ve.avatar,ve.address],function(){var e=ve.integer({min:0,max:(me.length-1)/2});return"".concat(me[e].call(ve))}),be=n(12),ye=n.n(be);function Oe(){var e=u()(["\n  .content {\n    border: 1px solid gainsboro;\n    padding: 1em;\n    height: 100%;\n    width: 100%;\n    word-break: break-all;\n    overflow: auto;\n  }\n"]);return Oe=function(){return e},e}function Ee(e){var t=e.content;return a.a.createElement(Ne,null,a.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:t}}))}Ee.propTypes={content:ye.a.string},Ee.defaultProps={content:""};var Ne=s.b.section(Oe());function Te(){var e=u()(["\n  > h2 {\n    margin-top: 0;\n  }\n\n  .query {\n    border: 1px solid gainsboro;\n    width: 100%;\n    padding: 0.5em 0.7em;\n    box-sizing: border-box;\n  }\n"]);return Te=function(){return e},e}var we="<ul>".concat(Array.from({length:5}).reduce(function(e){return e+"<li>".concat(Array.from({length:5}).reduce(function(e){return e+'<span style="font-size: '.concat(ve.integer({min:7,max:30}),'px;">').concat(xe().split("").slice(0,10).join(""),"</span>")},""),"</li>")},""),"</ul>\n  ").concat(Array.from({length:1}).reduce(function(e){return e+"<p>".concat(Array.from({length:15}).reduce(function(e){for(var t=xe().split("");t.length>10;){var n=ve.integer({min:0,max:(t.length-1)/2}),r=ve.integer({min:7,max:30});e+='<span style="font-size: '.concat(r,'px;">').concat(t.splice(0,n).join(""),"</span>")}return e+t.join("")},""),"</p>")},""));function ke(){var e=Object(r.useState)(we),t=y()(e,2),n=t[0],o=t[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Me,null,a.a.createElement("p",null,"Find some text in the dom and replace with what you want"),a.a.createElement("input",{placeholder:"regular expression",className:"query",onChange:function(e){var t,n=e.target.value,r=E()(),a=we;try{a=pe(a,{find:n,replace:function(e){var n=e.offsetText,a=e.regExpExecArray;return r=t!==a?E()():r,t=a,'<span style="background-color: '.concat(r,';">').concat(n,"</span>")}})}catch(e){return}o(a)}}),a.a.createElement("p",null,"detail at"," ",a.a.createElement("a",{href:"https://github.com/swimyoung/dom/blob/v1.1.0/packages/dom-findandreplace/README.md"},"README.md"))),a.a.createElement(Ee,{content:n}))}var Me=s.b.section(Te());function Re(){var e=u()(["\n  display: grid;\n  grid-auto-rows: auto;\n  grid-gap: 1em;\n  margin: 0 auto;\n  max-width: 960px;\n\n  grid-template-columns: 100%;\n"]);return Re=function(){return e},e}function je(){return a.a.createElement(Ve,null,a.a.createElement(ke,null))}var Ve=s.b.div(Re());function Ce(){var e=u()(["\n  ","\n  ","\n"]);return Ce=function(){return e},e}var Ae=Object(s.a)(Ce(),f.a.toString(),d.a.toString());Object(o.render)(a.a.createElement(function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ae,null),a.a.createElement(h,null),a.a.createElement(je,null),a.a.createElement(v,null))},null),document.getElementsByTagName("main")[0])}});
//# sourceMappingURL=main.9a482.js.map